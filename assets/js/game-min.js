const gameModule=(()=>{"use strict";let e=[],f=["C","D","H","S"],g=["A","J","Q","K"],h=[],a=document.querySelector("#btnGet"),b=document.querySelector("#btnStop"),c=document.querySelector("#btnNew"),i=document.querySelectorAll("small"),j=document.querySelectorAll(".divCards"),d=(d=2)=>{e=k(),h=[];for(let c=0;c<d;c++)h.push(0);i.forEach(a=>a.innerHTML=0),j.forEach(a=>a.innerHTML=""),a.disabled=!1,b.disabled=!1},k=()=>(e=[],f.forEach(b=>{let a=2;for(;a<=10;)e.push(a+b),a++;g.forEach(a=>{e.push(a+b)})}),_.shuffle(e)),l=()=>{if(0==e.length)throw"No hay cartas en el deck";return e.pop()},m=b=>{let a=b.substring(0,b.length-1);return isNaN(a)?"A"==a?11:10:parseInt(a)},n=(b,a)=>(h[a]=h[a]+m(b),i[a].innerText=h[a],h[a]),o=(b,c)=>{let a=document.createElement("img");a.src=`assets/cartas/${b}.png`,a.classList.add("carta"),j[c].append(a)},p=()=>{let[b,a]=h;a===b?Swal.fire({icon:"info",title:"Nadie gana :("}):b>21?Swal.fire({icon:"error",title:"La computadora Gana :("}):a>21?Swal.fire({icon:"success",title:"El Jugador Gana!!"}):a>b&&a<=21&&Swal.fire({icon:"error",title:"La computadora Gana :("})},q=a=>{let b=0;do{let c=l();b=n(c,h.length-1),o(c,h.length-1)}while(b<a&&a<=21)p()};return a.addEventListener("click",()=>{let d=l(),c=n(d,0);o(d,0),c>21?(console.warn("Lo siento mucho, perdiste."),a.disabled=!0,b.disabled=!0,q(c)):21===c&&(console.warn("21, genial!!"),a.disabled=!0,b.disabled=!0,q(c))}),b.addEventListener("click",()=>{a.disabled=!0,b.disabled=!0,q(h[0])}),c.addEventListener("click",()=>{d()}),{newGame:d}})()